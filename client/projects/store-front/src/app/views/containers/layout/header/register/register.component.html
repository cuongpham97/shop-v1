<div class="register-form">
  <form [formGroup]="form">
    <div class="form-group">
      <label>Họ và tên</label>
      <input formControlName="name" type="text" class="form-control" [ngClass]="{ 
                    'is-valid': form.get('name').touched && form.get('name').valid,
                    'is-invalid': form.get('name').touched && form.get('name').invalid
                  }">
      <div *ngIf="form.get('name').touched" class="form-text text-danger">
        <small *ngIf="form.get('name').errors?.required">Không được để trống</small>
        <small *ngIf="form.get('name').errors?.maxlength">Tên quá dài</small>
        <small *ngIf="form.get('name').errors?.pattern">Tên chưa đúng</small>
      </div>
      <!-- ./validate -->
    </div>
    
    <div class="form-group">
      <label>Số điện thoại</label>
      <input formControlName="phone" type="text" class="form-control" [ngClass]="{ 
                'is-valid': form.get('phone').touched && form.get('phone').valid,
                'is-invalid': form.get('phone').touched && form.get('phone').invalid
              }">
      <!-- validate -->
      <div *ngIf="form.get('phone').pending" class="form-text text-success">
        <small>Đang kiểm tra...</small>
      </div>
      <div *ngIf="form.get('phone').touched" class="form-text text-danger">
        <small *ngIf="form.get('phone').errors?.phoneExists">Số điện thoại này đã được sử dụng</small>
        <small *ngIf="form.get('phone').errors?.pattern">Số điện thoại chưa đúng</small>
        <small *ngIf="form.get('phone').errors?.required">Số điện thoại là bắt buộc</small>
      </div>
      <!-- ./validate -->
    </div>
   
    <div class="form-group">
      <label class="w-100">Giới tính</label>
      <select formControlName="gender" class="custom-select form-control w-50" [ngClass]="{ 
                  'is-valid': form.get('gender').touched && form.get('gender').valid,
                  'is-invalid': form.get('gender').touched && form.get('gender').invalid
                }">
        <option>Nam</option>
        <option>Nữ</option>
      </select>
      <div *ngIf="form.get('gender').touched" class="form-text text-danger">
        <small *ngIf="form.get('gender').errors?.required">Hãy chọn một</small>
      </div>
    </div>

    <div class="form-group">
      <label>Email</label>
      <input formControlName="email" type="text" class="form-control" [ngClass]="{ 
                'is-valid': form.get('email').touched && form.get('email').valid,
                'is-invalid': form.get('email').touched && form.get('email').invalid
              }">
      <!-- validate -->
      <div *ngIf="form.get('email').pending" class="form-text text-success">
        <small>Đang kiểm tra...</small>
      </div>
      <div *ngIf="form.get('email').touched" class="form-text text-danger">
        <small *ngIf="form.get('email').errors?.emailExists">Email này đã được sử dụng</small>
        <small *ngIf="form.get('email').errors?.pattern">Email chưa đúng</small>
      </div>
      <!-- ./validate -->
    </div>

    <div class="form-group">
      <label>Mật khẩu</label>
      <input formControlName="password" type="password" autocomplete="false" class="form-control" [ngClass]="{ 
                'is-valid': form.get('password').touched && form.get('password').valid,
                'is-invalid': form.get('password').touched && form.get('password').invalid
              }">
      <div *ngIf="form.get('phone').touched" class="invalid-feedback text-danger">
        <span *ngIf="form.get('password').errors?.required">Mật khẩu không được để trống</span>
        <span *ngIf="form.get('password').errors?.minlength">Mật khẩu quá ngắn</span>
        <span *ngIf="form.get('password').errors?.maxlength">Mật khẩu quá dài</span>
      </div>
    </div>

    <div class="pretty p-svg p-curve mx-2 mb-4">
      <input formControlName="accept" type="checkbox" />
      <div class="state p-warning">
        <!-- svg path -->
        <svg class="svg svg-icon" viewBox="0 0 20 20">
          <path
            d="M7.629,14.566c0.125,0.125,0.291,0.188,0.456,0.188c0.164,0,0.329-0.062,0.456-0.188l8.219-8.221c0.252-0.252,0.252-0.659,0-0.911c-0.252-0.252-0.659-0.252-0.911,0l-7.764,7.763L4.152,9.267c-0.252-0.251-0.66-0.251-0.911,0c-0.252,0.252-0.252,0.66,0,0.911L7.629,14.566z"
            style="stroke: white;fill:white;"></path>
        </svg>
        <label>Nhận thông tin khuyến mãi</label>
      </div>
    </div>

    <button (click)="register()" class="btn btn-danger p-2 w-100"> Đăng kí </button>
  </form>
</div>
